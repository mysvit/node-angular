<h1 class="p-20">Testing PWA</h1>

<div class="sl-container">
    <button *ngIf="!addComment" class="margin" mat-flat-button color="primary" aria-label="Add a comment" (click)="addCommentClick()">
        <span>Add comment</span>
    </button>
    <app-comment-form *ngIf="addComment"
                      [disabled]="executingForm"
                      [inModel]="commentSet"
                      (onSave)="addCommentEvent($event)"
                      (onCancel)="cancelAddCommentEvent()">
    </app-comment-form>

    <ng-template ngFor let-item [ngForOf]="commentsList" let-i="index" [ngForTrackBy]="commentsTrackBy">
        <div class="sl-item">
            <div>
                <img class="sl-avatar" alt="User avatar" src="{{item.avatar_id | slPictureUrl}}">
            </div>
            <div class="sl-item-text">
                <div class="g-col">
                    <b>
                        {{item.nickname}}
                    </b>
                    <div class="sl-date">
                        {{item.write_date | slDateTimeYyyyMmDdHhMmSsPipe}}
                    </div>
                </div>
                <div [innerText]="item.comment"></div>
                <div class="sl-item-reply">
                    <div class="sl-item-icon">
                        <mat-icon class="sl-icon" [ngClass]="{'fill':item.like_user}"
                                  aria-hidden="false" aria-label="I like this" (click)="commentLikeClick(item)">
                            thumb_up
                        </mat-icon>
                        <span>{{item.likes_count}}</span>
                    </div>
                    <div class="sl-item-icon">
                        <mat-icon class="sl-icon" [ngClass]="{'fill':item.dislike_user}"
                                  aria-hidden="false" aria-label="I dislike this" (click)="commentDislikeClick(item)">
                            thumb_down
                        </mat-icon>
                        <span>{{item.dislikes_count}}</span>
                    </div>
                    <div class="sl-item-icon">
                        <mat-icon class="sl-icon" (click)="commentReplyClick()">chat</mat-icon>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>

</div>
